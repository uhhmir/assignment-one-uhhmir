<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Statistical Story of the Raptors' Transformation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fff;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
        }
        header, .conclusion, .introduction {
            text-align: center;
            padding: 5px 0;
        }
        header h1 {
            margin: 0;
            font-size: 3em; /* Increased font size */
            color: #d32f2f; /* Red */
        }
        section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 5px 0;
        }
        section h2 {
            font-size: 1.2em;
            margin-bottom: 5px;
            color: #512da8; /* Purple */
        }
        section p {
            font-size: 0.9em;
            line-height: 1.2;
            color: #000; /* Black */
            margin-bottom: 10px; /* Add margin to separate text from chart */
        }
        canvas {
            max-width: 400px;
            margin: 5px;
        }
        .conclusion p {
            font-size: 0.9em; /* Same font size as the rest of the text */
        }
        #section2 {
            padding: 0;
            margin: 0;
        }
    </style>
</head>
<body>
    <header>
        <h1>AN ANALYSIS OF THE TORONTO RAPTORS POST-2019 CHAMPIONSHIP</h1>
    </header>
    <div class="container">
        <section id="section1" class="introduction">
            <p>In June of 2019, the Toronto Raptors reached the pinnacle of NBA success, securing their first championship in franchise history. Five years later, the team looks drastically different. Through data visualization, we'll explore how the departure of key players, strategic shifts, and organizational decisions have transformed the team from champions to a rebuilding franchise.</p>
        </section>

        <section>
            <h2>THE DISSOLUTION OF THE CHAMPIONSHIP CORE</h2>
            <p>The numbers tell a compelling story of change. From the championship roster that featured Kawhi Leonard, Kyle Lowry, and Fred VanVleet, to the recent trade of Pascal Siakam, each departure marked a significant statistical shift. The team's offensive rating dropped from 113.1 in the championship season to 108.7 in 2023-24, while the defensive efficiency shows similar decline. These changes reflect not just lost talent, but a complete transformation in team identity.</p>
            <canvas id="teamPerformanceTimeline"></canvas>
        </section>

        <section id="section2">
            <h2>CORE PLAYER IMPACT COMPARISON</h2>
            <p>This graph compares the impact of core players from the championship team. It shows the points, assists, and rebounds of Kawhi Leonard, Kyle Lowry, Fred VanVleet, and Pascal Siakam during the championship season.</p>
            <canvas id="corePlayerImpactComparison"></canvas>
        </section>

        <section id="section3">
            <h2>STRATEGIC EVOLUTION</h2>
            <p>As core players departed, the Raptors' playing style underwent a dramatic transformation. The data shows a shift from a veteran-led, defensive-focused team to a younger, more experimental roster. Ball movement statistics tell part of this story â€“ assists per game dropped from 25.4 in 2019 to 23.8 in 2024, while the average age of the starting lineup decreased from 27.5 years to 23.8 years. This graph shows the age distribution of the team in 2019 compared to 2024, highlighting the shift from a veteran team to a younger roster.</p>
            <canvas id="ageDistributionComparison"></canvas>
        </section>

        <section id="section4">
            <h2>THE FINANCIAL RESET</h2>
            <p>The financial data reveals a calculated transition. The team's salary cap allocation shifted from heavily invested in veteran contracts to creating flexibility for future moves. Trading Siakam and VanVleet alone freed up over $70 million in cap space, positioning the team for future opportunities while developing young talent.</p>
            <canvas id="salaryCapDistribution"></canvas>
        </section>

        <section id="section5">
            <h2>LOOKING AHEAD</h2>
            <p>Current performance metrics of young players like Scottie Barnes, coupled with acquired draft assets, paint a picture of potential future success. The team's average player age has dropped to its lowest point since 2012, while player development metrics show promising growth trajectories for the core young talent.</p>
            <canvas id="youngCoreDevelopment"></canvas>
        </section>

        <section class="conclusion">
            <p>Through these visualizations, we see how the Raptors have methodically transformed from champions to a rebuilding team. While the current statistics might show a decline in immediate success metrics, the underlying data suggests a calculated approach to building the next great Raptors team. The journey from 2019 to 2024 isn't just about what was lost, but about what's being built for the future.</p>
        </section>
    </div>

    <script>
        // Team Performance Timeline (2019-2024)
        new Chart(document.getElementById('teamPerformanceTimeline'), {
            type: 'line',
            data: {
                labels: ['2019', '2020', '2021', '2022', '2023', '2024'],
                datasets: [
                    {
                        label: 'Offensive Rating',
                        data: [113.1, 110.2, 109.5, 107.8, 108.7],
                        borderColor: 'rgba(211, 47, 47, 1)', // Red
                        borderWidth: 1,
                        fill: false
                    },
                    {
                        label: 'Defensive Rating',
                        data: [106.8, 108.5, 110.1, 111.3, 112.5],
                        borderColor: 'rgba(81, 45, 168, 1)', // Purple
                        borderWidth: 1,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Core Player Impact Comparison
        new Chart(document.getElementById('corePlayerImpactComparison'), {
            type: 'bar',
            data: {
                labels: ['Kawhi Leonard', 'Kyle Lowry', 'Fred VanVleet', 'Pascal Siakam'],
                datasets: [
                    {
                        label: 'Points',
                        data: [26.6, 19.4, 17.6, 21.4],
                        backgroundColor: 'rgba(211, 47, 47, 0.2)', // Red
                        borderColor: 'rgba(211, 47, 47, 1)', // Red
                        borderWidth: 1
                    },
                    {
                        label: 'Assists',
                        data: [3.3, 7.5, 6.6, 4.5],
                        backgroundColor: 'rgba(255, 215, 0, 0.2)', // Gold
                        borderColor: 'rgba(255, 215, 0, 1)', // Gold
                        borderWidth: 1
                    },
                    {
                        label: 'Rebounds',
                        data: [7.3, 4.8, 3.8, 7.2],
                        backgroundColor: 'rgba(81, 45, 168, 0.2)', // Purple
                        borderColor: 'rgba(81, 45, 168, 1)', // Purple
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Age Distribution Comparison
        new Chart(document.getElementById('ageDistributionComparison'), {
            type: 'pie',
            data: {
                labels: ['< 25', '25-30', '> 30'],
                datasets: [
                    {
                        label: '2019',
                        data: [3, 7, 5],
                        backgroundColor: [
                            'rgba(211, 47, 47, 0.2)', // Red
                            'rgba(255, 215, 0, 0.2)', // Gold
                            'rgba(81, 45, 168, 0.2)' // Purple
                        ],
                        borderColor: [
                            'rgba(211, 47, 47, 1)', // Red
                            'rgba(255, 215, 0, 1)', // Gold
                            'rgba(81, 45, 168, 1)' // Purple
                        ],
                        borderWidth: 1
                    },
                    {
                        label: '2024',
                        data: [8, 4, 2],
                        backgroundColor: [
                            'rgba(211, 47, 47, 0.2)', // Red
                            'rgba(255, 215, 0, 0.2)', // Gold
                            'rgba(81, 45, 168, 0.2)' // Purple
                        ],
                        borderColor: [
                            'rgba(211, 47, 47, 1)', // Red
                            'rgba(255, 215, 0, 1)', // Gold
                            'rgba(81, 45, 168, 1)' // Purple
                        ],
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom', // Move legend closer to the pie chart
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Salary Cap Distribution
        new Chart(document.getElementById('salaryCapDistribution'), {
            type: 'bar',
            data: {
                labels: ['Veteran Contracts', 'Young Player Contracts'],
                datasets: [
                    {
                        label: '2019',
                        data: [90, 30],
                        backgroundColor: 'rgba(211, 47, 47, 0.2)', // Red
                        borderColor: 'rgba(211, 47, 47, 1)', // Red
                        borderWidth: 1
                    },
                    {
                        label: '2024',
                        data: [40, 80],
                        backgroundColor: 'rgba(81, 45, 168, 0.2)', // Purple
                        borderColor: 'rgba(81, 45, 168, 1)', // Purple
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // Young Core Development
        new Chart(document.getElementById('youngCoreDevelopment'), {
            type: 'line',
            data: {
                labels: ['2020', '2021', '2022', '2023', '2024'],
                datasets: [
                    {
                        label: 'Scottie Barnes',
                        data: [10.3, 12.5, 14.8, 16.2, 18.4],
                        borderColor: 'rgba(211, 47, 47, 1)', // Red
                        borderWidth: 1,
                        fill: false
                    },
                    {
                        label: 'Other Young Players',
                        data: [8.1, 9.4, 11.2, 13.5, 15.3],
                        borderColor: 'rgba(81, 45, 168, 1)', // Purple
                        borderWidth: 1,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += context.parsed.y;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>